<!DOCTYPE html>
<html lang="en">
<head>
    <title>Bttleships</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>

    <link rel="stylesheet" href="https://unpkg.com/papercss@1.4.1/dist/paper.min.css"/>
    <link href="css/battleships-brehuv-main.css" rel="stylesheet"/>


</head>

<body class="main-background">
<div id="top" class="row site">
    <div class="sm-3 md-3 col">
        <div class="paper">
            <div class="demo-title">
                <div class="row flex-center">
                    <h2><span class="badge success">Comments</span></h2>
                    <table>
                        <thead>
                        <tr>
                            <th>Name</th>
                            <th>Comment</th>
                        </tr>
                        </thead>
                        <tbody id="commentList"/>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div class="sm-6 md-6 col">
        <div class="paper">
            <div class="demo-title">
                <div class="row flex-center">
                    <h2><span class="badge secondary">BattleShips</span></h2>
                    <a href="/battleships-brehuv-singleplayer-setup"
                       class="center-centred btn-block paper-btn">LetsPlay</a>
                    <div class="margin"></div>
                </div>
                <div>
                    <h2 class="center-centred"><span class="badge warning">BestScores</span></h2>
                </div>
                <div class="row flex-center">
                    <table>
                        <thead>
                        <tr>
                            <th>Name</th>
                            <th>Points</th>
                            <th>Played on</th>
                        </tr>
                        </thead>
                        <tbody id="scoreList"/>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div class="sm-3 md-3 col">
        <div class="paper">
            <div class="demo-title">
                <div class="row flex-center">
                    <h2><span class="badge success">Rating</span></h2>
                </div>
            </div>
        </div>
    </div>
</div>


<script src="//code.jquery.com/jquery-3.3.1.min.js"></script>
<script src="//cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
<!-- CommentScript -->
<script type="text/javascript">
    //<![CDATA[
    $(document).ready(function () {
        $.ajax({
            url: "/rest/comment/battleships-brehuv",
        }).done(function (json) {
            for (var i = 0; i < json.length; i++) {
                var comment = json[i];
                $("#commentList").append($("<tr><td>" + comment.player + "</td><td>" + comment.comment + "</td></tr>"));
                // <td>" + comment.commentedOn + "</td>
            }
        });
    });

    $(document).ready(function () {
        $('#example').DataTable({
            columns: [
                {data: "player"},
                {data: "comment"},
                {data: "commentedOn"}
            ],
            ajax: {url: "/rest/comment/battleships-brehuv", dataSrc: ''}
        });
    });
    //]]>
</script>

<!-- ScoreScript -->
<script type="text/javascript">
    //<![CDATA[
    $(document).ready(function () {
        $.ajax({
            url: "/rest/score/battleships-brehuv",
        }).done(function (json) {
            for (var i = 0; i < json.length; i++) {
                var score = json[i];
                $("#scoreList").append($("<tr>\n<td>" + score.player + "</td>\n<td>" + score.points + "</td>\n<td>" + milisToDate(score.playedOn) + "</td>\n</tr>\n"));
            }
        });
    });

    $(document).ready(function () {
        $('#example').DataTable({
            columns: [
                {data: "player"},
                {data: "points"},
                {data: "playedOn"}
            ],
            ajax: {url: "/rest/score/battleships-brehuv", dataSrc: ''}
        });
    });
    //]]>

    function milisToDate(time) {
        var date = new Date(time);
        return date.getDay().toString() +"."+ date.getMonth().toString()+"."+ date.getFullYear().toString()
            +" ("+ date.getHours().toString() +":"+date.getMinutes().toString() + ")";
    }
</script>
</body>
</html>